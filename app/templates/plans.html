{%extends 'base.html' %}

{% block content %}
<div class="bg-white dark:bg-gray-900">
  <div class="container px-6 py-8 mx-auto">
    <div class="">
      <div class="flex flex-col items-center mb-10 xl:mx-8">
        <h1 class="text-2xl font-medium text-gray-800 capitalize lg:text-3xl dark:text-white">Our Pricing Plan
        </h1>

        <div class="mt-4">
          <span class="inline-block w-40 h-1 bg-primary rounded-full"></span>
          <span class="inline-block w-3 h-1 mx-1 bg-primary rounded-full"></span>
          <span class="inline-block w-1 h-1 bg-primary rounded-full"></span>
        </div>

        <p class="mt-4 font-medium text-gray-500 dark:text-gray-300">Sign up for one of our plans and gain the
          winning advantage now!</p>
      </div>

      <div class="flex-1 xl:mx-8">
        <form method="post">
          {{form.hidden_tag()}}
          <div class="mt-8 space-y-8 md:-mx-4 md:flex md:items-center md:justify-center md:space-y-0 xl:mt-0">
            <!-- options: hide selected -->
            {% if plans %}
            {% for plan in plans %}
            <div class="max-w-sm mx-auto border rounded-lg md:mx-4 dark:border-gray-700">
              <div class="p-6">
                <h1 class="text-xl font-medium text-gray-700 capitalize lg:text-2xl dark:text-white">
                  {{plan.plan_name}}</h1>

                <h2 class="mt-1 text-2xl font-semibold text-gray-700 sm:text-3xl dark:text-gray-300">
                  <!-- TODO: currency -->
                  ${{plan.price}} <span class="text-base font-medium">/{{plan.duration | days_to_months}}</span>
                </h2>


                {{form.plan_id(value=plan.id, class='hidden')}}
                {{form.submit(class="w-full px-4 py-2 mt-6 tracking-wide text-white capitalize transition-colors
                duration-300 transform bg-primary rounded-md hover:bg-blue-500 focus:outline-none
                focus:bg-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-80")}}
              </div>

              <hr class="border-gray-200 dark:border-gray-700">

              <div class="p-6">
                <h1 class="text-lg font-medium text-gray-700 capitalize lg:text-xl dark:text-white">Whatâ€™s
                  included:</h1>

                <div class="mt-8 space-y-4">
                  {% for key, value in plan.benefits.items() %}
                  <div class="flex items-center">
                    <ion-icon class="w-5 h-5 {{'text-blue-500' if value else 'text-red-400'}}"
                      name="{{'checkmark-circle' if value else 'close-circle'}}"></ion-icon>
                    <span class="mx-4 text-gray-700 dark:text-gray-300">{{(key | capitalize)}}</span>
                  </div>
                  {% endfor %}

                </div>
              </div>
            </div>
            {% endfor %}
            {% endif %}
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock content %}

{% block sidebar %}
  {% include 'partials/account_sidebar.html' %}
{% endblock sidebar %}